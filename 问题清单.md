临时网站：tjunlp-lab.github.io


github更新
帐号：tjunlp-lab
密码：xiongB105



搭建过程：
一：
申请github io（默认基于jekyll搭建博客），可以在jekyll theme中找合适的基础模板，再自制。

二：
在本地linux系统中搭建jekyll并编译网站
1. 安装ruby
-sudo add-apt-repository ppa:brightbox/ruby-ng
-sudo apt-get update
-sudo apt-get install ruby2.6 ruby2.6-dev
-ruby -v
(注意我们的网站所使用的ruby版本必须在2.3以上)

2. 安装gem
-wget https://rubygems.org/rubygems/rubygems-2.6.12.zip
-unzip rubygems-2.6.12.zip
-cd rubygems-2.6.12
-sudo ruby setup.rb

3. 安装jekyll和bundler
-gem source -r https://原来的那个
-gem source -a https://gems.ruby-china.com/ 
-sudo gem install jekyll
-sudo gem install bundler -v2.0.2

4. 编译
-jeckyll server
根据提示会出现各种包的版本没有装好，然后按照提示一个一个装好，最后会有一些包装了两个版本,此时改用
-bundle exec jekyll server
就可以在浏览器指定的端口查看生成的网页。
也可以直接上传到github看效果，但是github没有时刻监听编译，所以需要等待一会儿才有编译结果，这样效率很慢。

5. 提交
-git add .
-git commit -m "update"
-git push

补充：
（1）注意本地备份
（2）当push不成功的原因是“分支不同步”时，先备份一下本地的内容,然后把远端的内容和本地完全同步:
-git reset --hard FETCH_HEAD
-git pull origin master
再把修改的部分重新替换一次再push

6. 其他
网站使用的插件目前还不兼容windows，所以本地调试最好在linux系统下编译。












网站的排版遇到的问题和解决方案：

一：如何解决jekyll中，分页部件paginator只能在根目录的index.html中使用、在别的子目录中无法使用：
参考链接：https://stackoverflow.com/questions/24717458/creating-a-website-with-jekyll-that-has-a-subdirectory-for-the-blog-with-paginat/24721117?r=SearchResults#24721117

需要处理的内容包括：
1. _config.yml中的分页地址 paginate_path
2. 使用分页器的子页面名称必须同样是index.html，config.yml中要同时include对应的子目录文件夹
3. 因为paginator的生成在网站初始化阶段，因此每次设置页面不会像其他页面改动以下立刻动态更新，必须重启jekyll server才会生效
4. 如果多个子页面都想要用paginator功能，
   假设我们新的子页面脚本想放在/_pages/postlist/文件夹里，
   可以把paginate_path对应的"/_pages/postlist/page:num"下新建page1、page2、page3文件夹，再每个子目录分别新建index.html
   或者直接在postlist新建index.html也是可以的。


二：文件夹结构
文件夹里在维护时候,一般只要维护两个文件夹 pages 和 posts,其他的文件差不多定型就不改了。
pages 的文件是控制主页菜单栏里点击显示的页面,看名称就可以一一对上号。
posts 里的每个文件,都是类似博客的一篇文章,同样看名称可以对上号。



三. 怎么添加新的报道（posts）？
1. 2种流程：
（1）html脚本（建议html形式，因为排版脚本基本是按照html的css样式写的）
在posts文件夹新建html文件，仿照之前的posts，设置好title等信息，再开始写正文。

（2）markdown脚本（可选）
在posts文件夹新建md文件，仿照之前的posts，设置好title等信息，再开始写正文。
正文可以在线下markdown编辑器写完转换为代码，再插入到指定位置。

2. 注意事项：
为保持网站呈现的页面统一性和方便后续维护，需要大家统一按照以下要求来进行：
（1）. 图像：图像资源统一放在/assets/images/posts/新post的名字/文件夹中
（2）. 图像：呈现图片，使用的链接要用相对位置，不要用绝对网址，可以减少网站的带宽压力;
（3）. 资源：图片分辨率不要太高，否则网站加载很慢;
（4）. 排版：注意排版整齐，保持两边对齐，每篇文章不要擅自用不同的新字体，保持网站的字体设置统一
（5）. 在报道的标题和正文中，凡是提及某某教授，都不可以省略对教授的称呼，必须使用“全名+教授”
（6）. 请统一post文件名的时间和脚本中开头两处时间
（7）. 如果post中有规格合适的图片做封面（top.jpg，图片规格详见其他post的top.jpg），请将该封面命名为top.jpg;否则直接copy主页的top.jpg到该post的图像文件夹即可
（8）. 如果是event类型的报道，需要手动在events.html页面添加对应报道链接。（如果维护的同学如果有空，可以写个自动更新events的页面。）
（9）. 控制每篇报道的摘要显示情况，需要在post的代码中，紧接着摘要部分直接回车另起一行并键入  <!--more-->
（10）. 如果不理解上面说的事项，只需要严格仿照以往的post脚本就清楚了。
（11）. google comment插件现在还没有申请账号,虽然有评论功能,但只是摆设,后续有需要可以申请谷歌评论插件帐号。

四. 网页排版里出现频率较多的样式
1. 微调image位置：<img class="img-responsive" style="float:right;margin:4px 10px 0px 10px;" src="××.png"/>
2. 紧贴上一行和下一行的下划线：<hr style="margin-top:-1px;margin-bottom:1px; height:1px;border:none;border-top:1px dotted #a1a8a4;" />				
3. 缩略图：<div class="thumbnail"></div>